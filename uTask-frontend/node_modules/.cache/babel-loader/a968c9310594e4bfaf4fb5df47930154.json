{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Usuario/Documents/Web Development/todo-aplicacao/uTask-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/Usuario/Documents/Web Development/todo-aplicacao/uTask-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Usuario/Documents/Web Development/todo-aplicacao/uTask-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Usuario/Documents/Web Development/todo-aplicacao/uTask-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import api from'./services/api';// Axios\n// Imagens ---\nimport beach from\"./assets/beach.png\";// -----------\nfunction App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tasks=_useState2[0],setTasks=_useState2[1];// Tasks não feitas\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasksDone=_useState4[0],setTasksDone=_useState4[1];// Tasks feitas\nvar _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),tarefa_input=_useState6[0],setTarefa_input=_useState6[1];// Inputs no form\nfunction loadTasks(){return _loadTasks.apply(this,arguments);}function _loadTasks(){_loadTasks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var equalsTrue,equalsFalse,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:equalsFalse=function _equalsFalse(entry){return entry.done===false;};equalsTrue=function _equalsTrue(entry){return entry.done===true;};_context.next=4;return api.get(\"/items/read\");case 4:response=_context.sent;setTasks(response.data.filter(equalsTrue));setTasksDone(response.data.filter(equalsFalse));case 7:case\"end\":return _context.stop();}}},_callee);}));return _loadTasks.apply(this,arguments);}useEffect(function(){// Mostra as tasks\nloadTasks();},[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// Criar nova task\ne.preventDefault();_context2.next=3;return api.post(\"/items/create\",{\"content\":tarefa_input,\"done\":true});case 3:response=_context2.sent;setTarefa_input(\"\");setTasks([].concat(_toConsumableArray(tasks),[response.data]));case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}function handleDelete(_x2){return _handleDelete.apply(this,arguments);}function _handleDelete(){_handleDelete=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var taskRemoval;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:taskRemoval=function _taskRemoval(array){return array._id!==id;};_context3.next=3;return api.delete(\"/items/delete\",{data:{\"id\":id}});case 3:setTasks(tasks.filter(taskRemoval));setTasksDone(tasksDone.filter(taskRemoval));case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _handleDelete.apply(this,arguments);}function handleUpdate(_x3){return _handleUpdate.apply(this,arguments);}function _handleUpdate(){_handleUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var newContent,newDone;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// funcionalidades que podem ser implementadas\nnewContent=false;// Usuário mudar o texto\nnewDone=false;// Usuário colocar a task devolta no TODO\n_context4.next=4;return api.put(\"/items/update\",{\"id\":id,\"newContent\":newContent,\"newDone\":newDone});case 4:loadTasks();case 5:case\"end\":return _context4.stop();}}},_callee4);}));return _handleUpdate.apply(this,arguments);}var praiaNada=/*#__PURE__*/ // Quando não tem tasks\n_jsxs(\"div\",{id:\"nada\",className:\"center\",children:[/*#__PURE__*/_jsx(\"img\",{src:beach,alt:\"Foto de uma praia\",className:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Nada por aqui!\"})]});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{id:\"sectionTop\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"center\",children:\"uTask\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"center\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,placeholder:\"Add uma nova tarefa\",alt:\"Add uma nova tarefa\",pattern:\".{1,48}\",title:\"Entrada deve ter no m\\xE1ximo 48 caracteres\",value:tarefa_input,onChange:function onChange(e){return setTarefa_input(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"sectionMiddle\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"center\",children:\"TODO\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"div-meio\",children:[tasks.length>0&&tasks.map(function(task){return/*#__PURE__*/_jsxs(\"div\",{className:\"center task\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"taskLeft\",children:/*#__PURE__*/_jsx(\"p\",{children:task.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"taskRight\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"taskGreen\",alt:\"Marcar como conclu\\xEDda\",title:\"Marcar como conclu\\xEDda\",type:\"button\",value:task._id,onClick:function onClick(e){return handleUpdate(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"taskRed\",alt:\"Deletar tarefa\",title:\"Deletar tarefa\",type:\"button\",value:task._id,onClick:function onClick(e){return handleDelete(e.currentTarget.value);}})]})]},task._id);}),tasks.length===0&&praiaNada]})]}),/*#__PURE__*/_jsxs(\"section\",{id:\"sectionBottom\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{className:\"center\",children:\"DONE\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"div-rodape\",children:[tasksDone.length>0&&tasksDone.map(function(task){return/*#__PURE__*/_jsxs(\"div\",{className:\"center task taskD\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"taskLeft\",children:/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"s\",{children:task.content})})}),/*#__PURE__*/_jsx(\"div\",{className:\"taskRight\",children:/*#__PURE__*/_jsx(\"button\",{alt:\"Deletar tarefa\",title:\"Deletar tarefa\",type:\"button\",value:task._id,onClick:function onClick(e){return handleDelete(e.currentTarget.value);}})})]},task._id);}),tasksDone.length===0&&praiaNada]})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/Usuario/Documents/Web Development/todo-aplicacao/uTask-frontend/src/App.js"],"names":["React","useState","useEffect","api","beach","App","tasks","setTasks","tasksDone","setTasksDone","tarefa_input","setTarefa_input","loadTasks","equalsTrue","equalsFalse","entry","done","get","response","data","filter","handleSubmit","e","preventDefault","post","handleDelete","id","taskRemoval","array","_id","delete","handleUpdate","newContent","newDone","put","praiaNada","target","value","length","map","task","content","currentTarget"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'; \nimport api from './services/api'; // Axios\n\n// Imagens ---\nimport beach from \"./assets/beach.png\";\n// -----------\n\nfunction App() {\n\n    const [tasks, setTasks] = useState([]);         // Tasks não feitas\n    const [tasksDone, setTasksDone] = useState([]); // Tasks feitas\n\n    const [tarefa_input , setTarefa_input] = useState(''); // Inputs no form\n\n    async function loadTasks() {\n        function equalsTrue(entry){\n            return entry.done === true; \n        }\n\n        function equalsFalse(entry){\n            return entry.done === false;\n        }\n\n        const response = await api.get(\"/items/read\");\n    \n        setTasks((response.data).filter(equalsTrue));\n        setTasksDone((response.data).filter(equalsFalse));\n    }\n\n    useEffect(() => {   // Mostra as tasks\n        loadTasks();\n    }, []);\n\n    async function handleSubmit(e){ // Criar nova task\n        e.preventDefault();\n\n        const response = await api.post(\"/items/create\", \n        {\n            \"content\": tarefa_input,\n            \"done\": true\n        })\n\n        setTarefa_input(\"\");\n\n        setTasks([...tasks, response.data]);\n    }\n\n    async function handleDelete(id){ // Deleta uma task (done ou não)\n        function taskRemoval(array){\n            return array._id !== id;\n        }\n\n\n        await api.delete(\"/items/delete\", \n        { \n            data: {\"id\": id} \n        })\n\n        setTasks(tasks.filter(taskRemoval));\n        setTasksDone(tasksDone.filter(taskRemoval));\n        \n    }\n\n    async function handleUpdate(id){\n        // funcionalidades que podem ser implementadas\n        const newContent = false; // Usuário mudar o texto\n        const newDone = false;    // Usuário colocar a task devolta no TODO\n\n        await api.put(\"/items/update\", {\n            \"id\": id,\n            \"newContent\": newContent,\n            \"newDone\": newDone\n        })\n\n        loadTasks();\n    }\n\n    const praiaNada =\n        // Quando não tem tasks\n        <div id=\"nada\" className=\"center\" >\n            <img src={beach} alt=\"Foto de uma praia\" className=\"\" ></img>\n            <p>Nada por aqui!</p>\n        </div>;\n\n    return ( \n        <div>\n            <section id=\"sectionTop\">\n                <h1 className=\"center\">uTask</h1>\n\n                <form className=\"center\" onSubmit={handleSubmit} >\n                    <input \n                    type=\"text\"\n                    required \n                    placeholder=\"Add uma nova tarefa\"\n                    alt=\"Add uma nova tarefa\"\n                    pattern=\".{1,48}\"\n                    title=\"Entrada deve ter no máximo 48 caracteres\"\n                    value={tarefa_input}\n                    onChange={e => setTarefa_input(e.target.value)} >\n                    </input>\n                    <button type=\"submit\" ></button>\n                </form>\n\n            </section>\n\n            <section id=\"sectionMiddle\" >\n                <hr></hr>\n\n                <h2 className=\"center\" >TODO</h2>\n\n                <div id=\"div-meio\" >\n                    {tasks.length > 0 && tasks.map(task => (\n                        <div key={task._id} className=\"center task\" >\n                            <div className=\"taskLeft\" >\n                                <p>{task.content}</p>\n                            </div>\n        \n                            <div className=\"taskRight\" >\n                                <button \n                                className=\"taskGreen\" \n                                alt=\"Marcar como concluída\" \n                                title=\"Marcar como concluída\"\n                                type=\"button\"\n                                value={task._id}\n                                onClick={e => handleUpdate(e.currentTarget.value)} >\n                                </button>\n\n                                <button\n                                className=\"taskRed\" \n                                alt=\"Deletar tarefa\" \n                                title=\"Deletar tarefa\"\n                                type=\"button\"\n                                value={task._id}\n                                onClick={e => handleDelete(e.currentTarget.value)} >\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n\n                    {tasks.length === 0 && praiaNada }\n                </div>\n            </section>\n\n            <section id=\"sectionBottom\" >\n                <hr></hr>\n\n                <h2 className=\"center\" >DONE</h2>\n\n                <div id=\"div-rodape\" >\n                    {tasksDone.length > 0 && tasksDone.map(task => (\n                        <div key={task._id} className=\"center task taskD\" >\n                            <div className=\"taskLeft\" >\n                                <p><s>{task.content}</s></p>\n                            </div>\n        \n                            <div className=\"taskRight\" >\n                                <button\n                                alt=\"Deletar tarefa\" \n                                title=\"Deletar tarefa\"\n                                type=\"button\"\n                                value={task._id}\n                                onClick={e => handleDelete(e.currentTarget.value)} >\n                                </button>\n                            </div>\n                        </div>\n                    ))}\n\n                    {tasksDone.length === 0 && praiaNada }\n                </div>\n            </section>\n        </div>\n    );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}